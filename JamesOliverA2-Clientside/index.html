<!DOCTYPE html>
<!--
Design: James Oliver
Name       : James' assessment 2 webpage - fundraisers home
Description: A two-column, fixed-width design for 1024x768 screen resolutions.
Version    : 1.0
Released   : 2024
-->

<html>

<head>
	
	
	<!-- tab text-->
	<title>Fundraisers For A Better World</title>
	
	<!-- style sheet link -->
	<link rel="stylesheet" href="style.css" type="text/css" media="screen" />
	
	<!-- text align for this specific page-->
	<style>
		p{text-align: left;
		}
	</style>
	
	
</head>

<body>

<!-- menu -->
<div id="header-wrapper">
	<header>
		<div id="menu">
			<ul>
				<li class="current_page_item"><a href="/">Home</a></li>
				<li><a href="search">Search Fundraiers</a></li>
			</ul>
		</div>
	
	</header>

	
</div>


<!-- page content start-->
<div id="page">
	<div id="logo">
	<!-- page heading -->
		<h1>Fundraisers for A Better World</h1>
	</div>


	
	<div id="content">
		
			<!-- welcome block-->
			<div class="post">
				<h2 class="title">Welcome</h2>
				<p>Welcome to Fundraisers for a Better World, we are dedicated to empowering communities and supporting meaningful causes through our effective 
				and innovative fundraising. Our platform connects individuals and organizations with a variety of charitable initiatives.</p>
			</div>

			<!-- active fundraiers block-->
			<div id = "data" class= "post">
				<h2 class="title">Active Fundraisers</h2>
			</div>
				

<script>
				
				
					
					function loadActive() 
					{
					// Call GET api to show all fundraisers that are active
					fetch("http://localhost:8080/api/crowdfunding_db/")
						.then(response => 
						{
							console.log("Response:", response);
							return response.json();
						})
						.then(data => 
						{
							console.log("Data:", data);
							const dataDiv = document.getElementById('data');
							
							const title = dataDiv.querySelector('.title'); 
							dataDiv.innerHTML = ""; 
							dataDiv.appendChild(title); 

							if (Array.isArray(data) && data.length > 0) 
							{
								data.forEach(fundraiser => 
								{
									const header = document.createElement("h3");
									header.textContent = `${fundraiser.ORGANIZER} - ${fundraiser.CAPTION}`;

									const cityP = document.createElement("p");
									cityP.textContent = `City: ${fundraiser.CITY}`;

									const targetP = document.createElement("p");
									targetP.textContent = `Target Funds: $${fundraiser.TARGET_FUNDING}`;

									const currentP = document.createElement("p");
									currentP.textContent = `Current Funds: $${fundraiser.CURRENT_FUNDING}`;
									const idP = document.createElement("p");
									idP.textContent = `ID: ${fundraiser.FUNDRAISER_ID}`;
									
									const categoryP = document.createElement("p"); 
									categoryP.textContent = `Category: ${fundraiser.CATEGORY_NAME}`;

									// Append in order of display
									dataDiv.appendChild(header);
									dataDiv.appendChild(cityP);
									dataDiv.appendChild(categoryP);
									dataDiv.appendChild(targetP);
									dataDiv.appendChild(currentP);
									dataDiv.appendChild(idP);
									
									//line break
									const hr = document.createElement("hr");
									dataDiv.appendChild(hr);
									
								});
							} 
							else 
							{
								dataDiv.textContent = "No fundraiser data available.";
							}
						})
						
				}

			// Load active fundraisers on page load
			document.addEventListener('DOMContentLoaded', loadActive);

					  </script>
				
		
					
					
			<!-- success stories block-->
			<div class="post">
				<h2 class="title">Success stories</h2>
				
				<h3>Lismore flood fundraiser</h3>
				<p> In the wake of the devasting Lismore floods, the Hope for Healing campaign was launched to provide relief to affected families. The campaign, 
				lead by local volunteers and supported through our fundraising platform, raises over $10,000 in funds for emergency supplies, temporary housing, and long-term recovery support.
				</p>
				<img src="flood2.jpg" alt="flood_photo" width="550" height="350" class="left" />
				<img src="flood.jpg" alt="flood_photo" width="550" height="350" class="right" />
				
			</div>
	
			
			<!-- contact us block-->
			<div class="post">
				<h2 class="title">Contact Us</h2>
				<p>  Please feel free to contact us at any time regarding your fundraiser.</p>
				<p>contact@betterworld.com.au</p>
			</div>
		
	</div>
		
	
	<div style="clear: both;">&nbsp;</div>
	
</div>

<!-- footer text -->
<div style="clear: both;">&nbsp;</div>
<footer>
		<p>Copyright (c) 2024. All rights reserved. Design by James Oliver</p>
</footer>

</body>
</html>
